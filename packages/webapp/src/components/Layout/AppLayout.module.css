/* packages/webapp/src/components/Layout/AppLayout.module.css */
.navbar {
  background-color: light-dark(
    var(--mantine-color-white),
    var(--mantine-color-dark-6)
  );
  /* height: 750px; - Убираем фиксированную высоту, пусть будет 100vh */
  height: 100vh; /* Занимает всю высоту экрана */
  width: 300px; /* Фиксированная общая ширина навбара */
  display: flex;
  flex-direction: column;
  border-right: 1px solid
    light-dark(var(--mantine-color-gray-3), var(--mantine-color-dark-4));
  position: fixed; /* Фиксируем навбар слева */
  left: 0;
  top: 0;
  bottom: 0;
  z-index: 100;
}

.wrapper {
  display: flex;
  flex: 1;
  overflow: hidden; /* Важно для предотвращения "выталкивания" контентом */
}

.aside {
  flex: 0 0 70px; /* Фиксированная ширина левой панели с иконками, можно настроить */
  background-color: var(--mantine-color-body);
  display: flex;
  flex-direction: column;
  align-items: center;
  border-right: 1px solid
    light-dark(var(--mantine-color-gray-3), var(--mantine-color-dark-7));
}

/* Используем имя класса, которое было в твоем JSX - mainNavArea */
.mainNavArea {
  flex: 1; /* Занимает оставшееся место от .navbar (300px - 70px = 230px) */
  background-color: light-dark(
    var(--mantine-color-gray-0),
    var(--mantine-color-dark-6)
  );
  display: flex;
  flex-direction: column;
  overflow: hidden; /* ОЧЕНЬ ВАЖНО: Предотвращает растягивание панели контентом */
}

.mainLink {
  width: 44px;
  height: 44px;
  border-radius: var(--mantine-radius-md);
  display: flex;
  align-items: center;
  justify-content: center;
  color: light-dark(var(--mantine-color-gray-7), var(--mantine-color-dark-0));
  margin-bottom: var(--mantine-spacing-xs); /* Отступ между иконками */

  &:hover {
    background-color: light-dark(
      var(--mantine-color-gray-0),
      var(--mantine-color-dark-5)
    );
  }

  &[data-active] {
    &,
    &:hover {
      background-color: var(--mantine-color-blue-light);
      color: var(--mantine-color-blue-light-color);
    }
  }
}

.title {
  /* font-family: Outfit, var(--mantine-font-family); -- Если Outfit не подключен, Mantine использует свой font-family */
  padding: var(--mantine-spacing-md);
  font-weight: 500;
  padding-top: 18px; /* Как в примере Mantine, чтобы выровнять с лого/иконками */
  height: 60px; /* Фиксированная высота для заголовка */
  line-height: calc(
    60px - 18px - var(--mantine-spacing-md-number, 16) * 1px
  ); /* Попытка вертикального центрирования, если нужно */
  box-sizing: border-box; /* Чтобы padding не увеличивал высоту */
  background-color: var(--mantine-color-body);
  border-bottom: 1px solid
    light-dark(var(--mantine-color-gray-3), var(--mantine-color-dark-7));
  margin-bottom: var(--mantine-spacing-xs); /* Отступ после заголовка */

  /* Для предотвращения "прыгания" из-за длинного текста */
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  flex-shrink: 0; /* Чтобы заголовок не сжимался */
}

.logo {
  width: 100%; /* Занимает всю ширину .aside */
  height: 60px; /* Фиксированная высота, как у .title */
  display: flex;
  justify-content: center;
  align-items: center; /* Центрирование лого по вертикали и горизонтали */
  border-bottom: 1px solid
    light-dark(var(--mantine-color-gray-3), var(--mantine-color-dark-7));
  margin-bottom: var(
    --mantine-spacing-sm
  ); /* Отступ после лого перед ссылками */
  flex-shrink: 0; /* Чтобы лого не сжималось */
}

.link {
  display: block; /* Чтобы занимал всю ширину и можно было применять padding/margin */
  text-decoration: none;
  color: light-dark(var(--mantine-color-gray-7), var(--mantine-color-dark-0));
  padding: var(--mantine-spacing-xs) var(--mantine-spacing-md);
  font-size: var(--mantine-font-size-sm);
  font-weight: 500;
  line-height: 1.5; /* Для нормального переноса, если white-space: normal */
  border-radius: var(--mantine-radius-sm);
  margin: var(--mantine-spacing-xs) var(--mantine-spacing-md); /* Отступы вокруг каждой ссылки */

  /* Для предотвращения "прыгания" из-за длинного текста */
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap; /* Если текст должен быть в одну строку и обрезаться */
  /* Если нужен перенос: */
  /* white-space: normal; */
  /* word-break: break-word; */

  &:hover {
    background-color: light-dark(
      var(--mantine-color-gray-0),
      var(--mantine-color-dark-5)
    );
    color: light-dark(var(--mantine-color-dark), var(--mantine-color-light));
  }

  &[data-active] {
    &,
    &:hover {
      /* Убрал border-left-color из примера Mantine, если не нужен такой акцент */
      background-color: var(--mantine-color-blue-filled);
      color: var(--mantine-color-white);
    }
  }
}

/* Стили для основного контента страницы */
.pageContent {
  margin-left: 300px; /* Ширина .navbar */
  padding: var(--mantine-spacing-md);
  width: calc(100% - 300px); /* Чтобы занимал оставшееся место */
  /* min-height: 100vh; */
  height: calc(100vh - var(--header-height, 0px));
  overflow-y: auto;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  /* Для плавной прокрутки контента, если он длиннее экрана */
  /* overflow-y: auto; -- это лучше для <AppShell.Main> или для <ScrollArea> внутри .mainNavArea */
}
